!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("library",[],t):"object"==typeof exports?exports.library=t():e.library=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(1),l=i(a),s=n(2),f=i(s),d=n(3),c=i(d),h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments[1];o(this,e);var i=document.createElement("canvas");document.body.insertBefore(i,document.body.childNodes[0]),this.canvas=document.getElementsByTagName("canvas")[0],this.canvas.className=t,this.context=this.canvas.getContext("2d");var r={onClick:function(){}};this.options=Object.assign({},r,n),this.isShowing=!1,this.offsetTop="",this.offsetLeft="",this.scale="",this.keyHeight="",this.keyWidth="",this.marginX="",this.marginY="",this.handleResize(),this.bindEvent()}return r(e,[{key:"handleResize",value:function(){var e=this,t=document.body.clientWidth;this.scale=2*t/375;var n=parseInt(t,10),i=parseInt(n/2,10);this.canvas.width=2*n,this.canvas.height=2*i,this.canvas.style.width=n+"px",this.canvas.style.height=i+"px",this.context.fillStyle=l.default.config.backgroundColor,this.context.fillRect(0,0,2*n,2*i);var o=this.canvas.getBoundingClientRect();this.offsetLeft=2*parseInt(o.left,10)||0,this.offsetTop=2*parseInt(o.top,10)||0,this.keyWidth=parseInt(30*this.scale,10),this.keyHeight=parseInt(1.3*this.keyWidth,10),this.marginX=parseInt(7*this.scale,10),this.marginY=parseInt(10*this.scale,10);var r=this.keyWidth+this.marginX,a=this.keyHeight+this.marginY,s=this.keyWidth+this.marginX,d=this.keyHeight+this.marginY,h=parseInt(8*this.scale,10),y=parseInt(h+.5*r,10),u=y,x=parseInt(20*this.scale,10),v=25;this.context.font=v*this.scale+"px Helvetica Neue";var g=function(e){return{x:(e.x-1)*r,y:(e.y-1)*a}},k=function(t){return{x:parseInt((t.x-1)*s+.5*e.keyWidth,10),y:parseInt((t.y-1)*d+23/32*e.keyHeight,10)}};Object.keys(c.default.keyboardJson).forEach(function(t){for(var n in c.default.keyboardJson[t]){var i=c.default.keyboardJson[t][n],o=g(i),r=k(i);if("del"===n){i.x1=u+o.x,i.x2=u+o.x+2*e.keyWidth+e.marginX,i.y1=x+o.y,i.y2=x+o.y+e.keyHeight,i.fx=u+r.x,i.fy=x+r.y,f.default.drawBorder(e.context,i.x1,i.y1,2*e.keyWidth+e.marginX,e.keyHeight,"stroke",25,l.default.config.borderColor),f.default.paintRect(e.context,i.x1,i.y1,2*e.keyWidth+e.marginX,e.keyHeight,25,l.default.config.contentColor,"rgba(0, 0, 0, 0.1)",2,2,2),f.default.drawDelBtn(e.context,i.fx-1/32*e.keyWidth,i.fy+1/16*e.keyHeight,e.keyWidth+e.marginX+1/16*e.keyWidth,1.125*e.keyHeight);break}var a=void 0,s=void 0;"firstLine"===t?(a=h,s=x):"secondLine"===t?(a=y,s=x):(a=u,s=x),i.x1=parseInt(a+o.x,10),i.x2=i.x1+e.keyWidth,i.y1=parseInt(s+o.y,10),i.y2=i.y1+e.keyHeight,i.fx=a+r.x,i.fy=s+r.y,f.default.drawBorder(e.context,i.x1,i.y1,e.keyWidth,e.keyHeight,"stroke",25,l.default.config.borderColor),f.default.paintRect(e.context,i.x1,i.y1,e.keyWidth,e.keyHeight,25,l.default.config.contentColor,"rgba(0, 0, 0, 0.1)",2,2,2),f.default.drawText(e.context,n,i.fx,i.fy,l.default.config.fontColor)}})}},{key:"bindEvent",value:function(){var e=this;window.addEventListener("resize",this.handleResize.bind(this)),this.canvas.addEventListener("touchend",function(t){t.preventDefault();var n=t.changedTouches[0].clientX,i=t.changedTouches[0].clientY,o=void 0;Object.keys(c.default.keyboardJson).forEach(function(t){for(var r in c.default.keyboardJson[t]){var a=c.default.keyboardJson[t][r];!o&&e.checkPoints(n,i,a)&&(o=r,e.clickAnimation(a,r))}}),o&&e.options.onClick(o,t)})}},{key:"checkPoints",value:function(e,t,n){return e*=2,t*=2,e>=this.offsetLeft+n.x1&&e<=this.offsetLeft+n.x2&&t>=this.offsetTop+n.y1&&t<=this.offsetTop+n.y2}},{key:"clickAnimation",value:function(e,t){var n=this;f.default.paintRect(this.context,e.x1,e.y1,e.x2-e.x1,e.y2-e.y1,20,"#eee"),setTimeout(function(){"del"!==t?(f.default.paintRect(n.context,e.x1,e.y1,e.x2-e.x1,e.y2-e.y1,20,"#fff"),f.default.drawText(n.context,t,e.fx,e.fy,l.default.config.fontColor)):(f.default.paintRect(n.context,e.x1,e.y1,e.x2-e.x1,e.y2-e.y1,20,"#fff"),f.default.drawDelBtn(n.context,e.fx-1/32*n.keyWidth,e.fy+1/16*n.keyHeight,n.keyWidth+n.marginX+1/16*n.keyWidth,1.125*n.keyHeight))},100)}}]),e}();window.Keyboard=h},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={backgroundColor:"#e2eede",borderColor:"#ddd",contentColor:"#fff",fontColor:"#333",shadowColor:"rgba(0, 0, 0, 0.1)"};t.default={config:n}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=i(o),a=function(e){e.lineWidth=1,e.fillStyle="#000",e.strokeStyle="#000",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0,e.textAlign="left"},l={drawBorder:function(e,t,n,i,o){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"stroke",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,f=arguments.length>7&&void 0!==arguments[7]?arguments[7]:r.default.borderColor;s=s>=0?+s:0;var d={tl:s,tr:s,bl:s,br:s};e.beginPath(),e.lineWidth=5,e.moveTo(t+d.tl,n),e.lineTo(t+i-d.tr,n),e.quadraticCurveTo(t+i,n,t+i,n+d.tr),e.lineTo(t+i,n+o-d.br),e.quadraticCurveTo(t+i,n+o,t+i-d.br,n+o),e.lineTo(t+d.bl,n+o),e.quadraticCurveTo(t,n+o,t,n+o-d.bl),e.lineTo(t,n+d.tl),e.quadraticCurveTo(t,n,t+d.tl,n),"fill"===l?(e.fillStyle=f,e.fill()):"stroke"===l&&(e.strokeStyle=f,e.stroke()),e.closePath(),a(e)},drawDelBtn:function(e,t,n,i,o){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;r=r>=0?+r:0,e.beginPath(),e.strokeStyle="#5b5b5b",e.lineWidth=10,e.moveTo(t+.25*i-1,n),e.lineTo(t+i,n),e.lineTo(t+i,n-.5*o),e.lineTo(t+.25*i,n-.5*o),e.lineTo(t,n-.25*o),e.lineTo(t+.25*i,n),e.moveTo(t+.5*i,n-1/8*i),e.lineTo(t+.75*i,n-3/8*o),e.moveTo(t+.5*i,n-3/8*o),e.lineTo(t+.75*i,n-1/8*i),e.stroke(),e.closePath(),a(e)},paintRect:function(e,t,n,i,o){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:r.default.config.contentColor,f=arguments.length>7&&void 0!==arguments[7]?arguments[7]:r.default.config.shadowColor,d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,h=arguments.length>10&&void 0!==arguments[10]?arguments[10]:0;l=l>=0?+l:0;var y={tl:l,tr:l,bl:l,br:l};d="number"==typeof d?d:0,c="number"==typeof c?c:0,h="number"==typeof h?h:0,e.beginPath(),e.moveTo(t+y.tl,n),e.lineTo(t+i-y.tr,n),e.quadraticCurveTo(t+i,n,t+i,n+y.tr),e.lineTo(t+i,n+o-y.br),e.quadraticCurveTo(t+i,n+o,t+i-y.br,n+o),e.lineTo(t+y.bl,n+o),e.quadraticCurveTo(t,n+o,t,n+o-y.bl),e.lineTo(t,n+y.tl),e.quadraticCurveTo(t,n,t+y.tl,n),e.shadowColor=f,e.shadowBlur=h,e.shadowOffsetX=d,e.shadowOffsetY=c,e.fillStyle=s,e.fill(),e.closePath(),a(e)},drawText:function(e,t,n,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r.default.config.fontColor,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"center",s=["left","right","center","start","end"];l=s.indexOf(l)!==-1?l:"left",e.beginPath(),e.fillStyle=o,e.fontSize="300px",e.textAlign=l,e.fillText(t,n,i),e.closePath(),a(e)}};t.default=l},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={firstLine:{q:{x:1,y:1},w:{x:2,y:1},e:{x:3,y:1},r:{x:4,y:1},t:{x:5,y:1},y:{x:6,y:1},u:{x:7,y:1},i:{x:8,y:1},o:{x:9,y:1},p:{x:10,y:1}},secondLine:{a:{x:1,y:2},s:{x:2,y:2},d:{x:3,y:2},f:{x:4,y:2},g:{x:5,y:2},h:{x:6,y:2},j:{x:7,y:2},k:{x:8,y:2},l:{x:9,y:2}},thirdLine:{z:{x:1,y:3},x:{x:2,y:3},c:{x:3,y:3},v:{x:4,y:3},b:{x:5,y:3},n:{x:6,y:3},m:{x:7,y:3},del:{x:8,y:3}}};t.default={keyboardJson:n}}])});